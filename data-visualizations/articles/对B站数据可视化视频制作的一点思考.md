这篇文章不是“新手指导”，它并不会告诉你应该如何采集和分析数据，或是选用什么可视化框架。
我也不想对“数据可视化”做一个细致的划分，那是搞学术的人乐意做的事情。

我只是想展现一个数据可视化视频的作者，在制作这样的视频时，应当如何思考。

一个真正完整参与过数据可视化视频制作的人，其实同时扮演着三个角色：
内容生产者、设计师和程序员。


1、内容生产者的视角


2、设计师的视角
举一本大家熟悉的书，《写给大家看的设计书》，里面提到了设计的四大原则：亲密性、对齐、重复和对比。

我个人认为其实不需要四个原则，只要两个即可：关联和变化。

关联指的是可视化不同要素的内容和形式之间的关联。
观众总是倾向于将时空上、感官上接近的东西关联起来，这种关联能够极大地提高观众对元素的理解力，减少不必要的注意力分散。

以风靡全站的条形图可视化为例，绝大多数现有的可视化，里面不同的条形图配色都是随机的。
这就是一个典型的反面教材，但是大多数人或限于审美、或囿于技术，并没有试图解决这个问题。

假设要做一个各国 GDP 的历史排行可视化，那么不同的国家所用的条形图颜色应当是和这个国家有关联的。
最容易想到的思路，是将国旗的主色作为条形图的颜色。比如中国用红色，希腊用蓝色。
然而这首先会出现如下问题：
大多数国家的国旗配色总共就那么几种，很快就会出现“撞色”的现象。
比如日本、瑞士、波兰、奥地利的国旗都由红白构成。
这时即使通过编程处理图像提取出“调色板”（图像中出现的色彩的集合），也无法从区区红白两种颜色中选取一个合适的颜色，将上述几个国家区分开来。

这时，就涉及到第二个原则：变化。
变化绝不是随机的变化，而是有秩序的、有规律、有理由的变化。
可视化时应当尽量少的出现“观众无法预期的”成分，否则作品就会失控，从博物馆中精雕细琢的一件艺术品沦为地摊上粗制滥造的一坨杂牌货。

回到上面的问题，我们如何合理地给配色类似国家分配条形图颜色呢？
我们不应急于给出答案，而是要更多地关注跟这个问题的成因和相关的现象。

我们可以预见到如下两个现象：
    1、主色相近的国家，在可视化中并不总是接近的（日本的GDP远远高过奥地利的GDP）；
    2、画面中同时出现的国家数越少，撞色的可能性就越低（同时展示8个国家，撞色几率肯定要低于同时展示20个国家）。

因此，我们可以选择尽量少的国家，减少撞色的几率（同时也让画面更简洁、观众注意力更集中），并且为每一个国家设计（或者是计算）一个乃至多个辅色（调色板），如果距离较近的几个国家（通常顶多是两个）主色相似，那么我们保留一个国家的主色，为其他国家换用辅色（如果辅色相似我们重复前述重选流程）。

现实生活总有许多变通，对于一个优秀的设计师来说，他需要在整齐划一和灵活变通之间找一个平衡点，既能保证画面的秩序感，又避免过多的单调重复和无效冗余。

……

3、程序员的视角

正如电脑软件和手机程序的使用者绝大多数并不是开发者一样，可视化视频的制作者们，绝大多数也并没有参与过任何可视化框架和脚本的开发。

这就导致了人们对于熟悉的旧工具的盲目依赖（而不愿接触更好的新工具），以及随着制作门槛下降带来的劣质品比例的增加（尽管优秀作品的绝对数目也在增加）。

比如见齐的基于 D3.js 的历史数据排名可视化框架，在 B 站上流传很广、用户很多，养活了无数营销号和编程小白，毕竟动动手就能一键生成动画。

它至少存在并将长期存在如下两个问题：
    1、图元过多时会卡顿；
    2、需要手动录屏。

狸子的 Flash 可视化框架也存在完全相同的问题。

对于第一个问题，广泛采用的变通方法是手动降低绘制帧率，确保录屏时不会有卡顿和跳帧，然后后期手动加速视频，从而掩盖了这一问题。
对于第二个问题，大多数人不以为意，并不觉得很麻烦。

我在很久之前就和作者指出，有更“自动化”的方案：
通过 socket.io 和 express 搭建一个服务端，自动保存当前帧，编码后发送至客户端，解码后保存到本地图片，最后用 FFmpeg 合成为视频。参考代码[在这里](https://github.com/Hansimov/SciAniLab/blob/master/data-visualizations/bili-video-view/server.js)。
这个基于 js 的方案，既不需要手动录屏，也不需要降低绘制速度并且后期处理。
我在 2018 年 4 月用 p5.js 制作的[【大数据】B站哪个区播放量最高](https://www.bilibili.com/video/BV1kW411V7ac)视频里，就用了这个方案。
可惜两年过去了，并没有看到其他基于 js 做可视化的人采用这样一个并不复杂的解决办法。

尽管这是一个很小的技术细节，但是充分说明了，绝大多数可视化制作者并没有从中获得任何技术上的提升，更谈不上形成自己的竞争力。
所以我记得很久之前有人问我，见齐的开源可视化框架，会不会大大降低可视化的门槛，削弱我们最早一批做这类视频的人（UP组）的影响力。
我的答案很果断：会。但是对我来说这无关紧要。
那些人获得的是他们想要的东西（低成本就能火、火了就有金钱收益），而我们（至少是我）想要的并不是这些。

绝大多数所谓的可视化作者，不过是拿一套别人做好端到面前的可视化框架，套用一堆其实并不那么有意思的数据，做了一期流水线上生产出来的消费品罢了。
消费品和艺术品，本身就是为着不同的目的而生。

……